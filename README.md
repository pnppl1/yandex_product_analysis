# yandex_product_analysis
Тестовое задание для продуктовых/BI аналитиков в Yandex Crowd
# Документация к анализу поиска Яндекс Картинок

## 1. Общая информация

Данный документ описывает подход, логику и этапы анализа поисковых запросов сервиса Яндекс Картинки. Анализ выполнен в рамках тестового задания и
направлен на исследование различий пользовательских интересов на разных платформах: desktop и touch.

Код анализа и визуализации представлен в Jupyter Notebook:
`image_search_analysis.ipynb`.

---

## 2. Описание данных

### 2.1 Источник данных

Входные данные предоставлены в виде файла `data.tsv`, содержащего семпл поисковых запросов за несколько недель.

### 2.2 Структура данных

| Поле | Тип | Описание |
|----|----|----|
| query | string | текст поискового запроса |
| timestamp | int | unix timestamp запроса |
| platform | string | платформа пользователя (`desktop`, `touch`) |

---

## 3. Предобработка данных

На этапе предобработки были выполнены следующие шаги:

1. Загрузка данных из TSV-файла
2. Преобразование unix timestamp в формат даты и времени
3. Создание дополнительных признаков:
   - дата запроса
   - час запроса

---

## 4. Анализ временного диапазона

Для определения временного диапазона выборки были использованы минимальное и максимальное значения даты запроса.

Результат:
- начало периода: 31 августа 2021
- конец периода: 21 сентября 2021

---

## 5. Анализ запросов со словом «ютуб»

Для подсчёта количества запросов, содержащих подстроку «ютуб», был применён фильтр по тексту запроса с последующей агрегацией по платформам.

Анализ выполнен отдельно для desktop и touch.

---

## 6. Частотный анализ запросов

### 6.1 Топ-10 запросов

Для каждой платформы были рассчитаны 10 наиболее частотных запросов.
Использовалась группировка по:
- platform
- query

и сортировка по убыванию количества запросов.

### 6.2 Интерпретация

Полученные списки отражают различия пользовательских сценариев:
- desktop: преимущественно учебные и справочные запросы
- touch: развлекательные и повседневные запросы

---

## 7. Суточная активность пользователей

Для анализа активности в течение суток была выполнена агрегация запросов по часу запроса отдельно для каждой платформы.

Результаты визуализированы в виде line chart.

Наблюдаемая разница объясняется различными сценариями использования устройств (рабочее время - свободное время).

---

## 8. Тематический анализ

### 8.1 Метод

Для тематической классификации запросов был использован rule-based подход,
основанный на ключевых словах в тексте запроса.

Каждому запросу была присвоена одна тема.

### 8.2 Ограничения метода

- метод не учитывает контекст
- возможны ошибки классификации
- категория «прочее» агрегирует нерелевантные запросы

Для повышения интерпретируемости категория «прочее» была исключена из сравнительного анализа.

---

## 9. SQL-анализ

Часть расчётов была выполнена с использованием SQL-запросов через библиотеку `pandasql`.

SQL использовался для:
- агрегации данных
- подсчёта частот
- сравнения результатов с pandas-реализациями

Это позволило продемонстрировать владение SQL-подходом при работе с табличными данными.

---

## 10. Выводы

- Поведение пользователей различается в зависимости от платформы
- Mobile-трафик ориентирован на быстрые и повседневные сценарии
- Desktop используется для более сложных и учебных задач

---

## 11. Используемые инструменты

- Python 3
- pandas
- matplotlib
- pandasql
- Jupyter Notebook
