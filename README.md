# yandex_product_analysis
Тестовое задание для продуктовых / BI аналитиков в Yandex Crowd

# Документация к анализу поиска Яндекс Картинок

## 1. Общая информация

Данный документ описывает подход, логику и этапы анализа поисковых запросов сервиса Яндекс Картинки.  
Анализ выполнен в рамках тестового задания и направлен на исследование различий пользовательских интересов на разных платформах: Desktop и Touch.

Код анализа и визуализации представлен в Jupyter Notebook:  
`image_search_analysis.ipynb`.

---

## 2. Описание данных

### 2.1 Источник данных

Входные данные предоставлены в виде файла `data.tsv`, содержащего семпл поисковых запросов за несколько недель.

### 2.2 Структура данных

| Поле      | Тип    | Описание |
|-----------|-------|---------|
| query     | string | текст поискового запроса |
| timestamp | int    | unix timestamp запроса |
| platform  | string | платформа пользователя (`desktop`, `touch`) |

---

## 3. Предобработка данных

На этапе предобработки были выполнены следующие шаги:

1. Загрузка данных из TSV-файла  
2. Преобразование unix timestamp в формат даты и времени  
3. Создание дополнительных признаков:  
   - дата запроса  
   - час запроса  

---

## 4. Анализ временного диапазона

Для определения временного диапазона выборки были использованы минимальное и максимальное значения даты запроса.

**Результат:**
- начало периода: 31 августа 2021  
- конец периода: 21 сентября 2021  


---

## 5. Анализ запросов со словом «ютуб»

Для подсчёта количества запросов, содержащих подстроку «ютуб», был применён фильтр по тексту запроса с последующей агрегацией по платформам.  

**Визуализация:** bar chart с двумя столбцами рядом (desktop vs touch), чтобы сравнить популярность запроса «ютуб» на разных устройствах.

---

## 6. Частотный анализ запросов

### 6.1 Топ-10 запросов

Для каждой платформы были рассчитаны 10 наиболее частотных запросов.  
Использовалась группировка по: platform, query и сортировка по убыванию количества запросов.

### 6.2 Интерпретация

- **Desktop:** преимущественно учебные и справочные запросы  
- **Touch:** развлекательные и повседневные запросы  

**Визуализация:** таблицы топ-10 запросов для каждой платформы с подписями, объясняющими различия.

---

## 7. Суточная активность пользователей

Для анализа активности в течение суток была выполнена агрегация запросов по часу запроса отдельно для каждой платформы.

**Визуализация:** line chart.  
**Вывод:** Desktop-пользователи активны в рабочие часы, а мобильные — более равномерно с вечерним пиком.

---

## 8. Тематический анализ

### 8.1 Метод

Для тематической классификации запросов использован **rule-based подход**, основанный на ключевых словах в тексте запроса.  
Каждому запросу присвоена одна тема.

### 8.2 Ограничения метода

- метод не учитывает контекст  
- возможны ошибки классификации  
- категория «прочее» агрегирует нерелевантные запросы  

Для повышения интерпретируемости категория «прочее» была исключена из сравнительного анализа.

**Визуализация:** grouped bar chart по доле тематик для Desktop и Touch.

---

## 9. SQL-анализ

Часть расчётов выполнена с использованием SQL-запросов через библиотеку `pandasql` для:

- агрегации данных  
- подсчёта частот  
- сравнения результатов с pandas  

Это демонстрирует владение SQL-подходом при работе с табличными данными.

---

## 10. Дашборд

Для наглядной презентации анализа создан **интерактивный дашборд в Yandex DataLens**.

### Содержание дашборда

- **Общие KPI:** индикаторы с общим количество запросов по платформам, столбчатая диаграма с количеством запросов со словом «ютуб» по платформам
- **Активность пользователей по часам:** линейчатая диаграмма  
- **Распределение запросов по темам:** столбчатая диаграма для сравнения Desktop и Touch  
- **Топ-10 запросов:** таблицы для каждой платформы с подписями и краткими выводами  

### Доступ к дашборду

**Интерактивная версия:** [ссылка на DataLens]([https://datalens.yandex/b1ayz2pt63uiv])  

**Примечание:** цвета платформ едины во всех визуализациях (desktop - сиреневый, touch - оранжевый).

---

## 11. KPI и результаты

- Доля запросов по платформам: desktop = 806, touch = 732  
- Запрос «ютуб»: desktop = 806, touch = 732  
- Топ-10 запросов и распределение тематик указаны в таблицах и графиках дашборда  

---

## 12. Выводы

- Поведение пользователей различается в зависимости от платформы  
- Мобильный трафик ориентирован на быстрые и повседневные сценарии  
- Desktop используется для более сложных и учебных задач  

---

## 13. Используемые инструменты

- Python 3  
- pandas  
- matplotlib  
- pandasql  
- Jupyter Notebook  
- Yandex DataLens  
